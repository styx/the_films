angular.module('Films', [
  'ngResource'
  'ngMaterial'
  'ngMessages'
  'ui.router'
  'ng-rails-csrf'
  'templates'
  'rails'
  'ncy-angular-breadcrumb'
  'Films.services'
  'Films.directives'
  'Films.controllers'
])

.config [
  '$urlRouterProvider'
  '$mdThemingProvider'
  '$breadcrumbProvider'
  '$mdIconProvider'
  ($urlRouterProvider, $mdThemingProvider, $breadcrumbProvider, $mdIconProvider) ->

    $urlRouterProvider.otherwise('/films')

    $mdThemingProvider.theme('default')
      .primaryPalette('indigo')
      .accentPalette('red')
      .warnPalette('red')

    $breadcrumbProvider.setOptions
      templateUrl: 'breadcrumbs/template.html'

    $mdIconProvider
      .defaultIconSet("<%= asset_path('svgdefs.svg') %>")
]

.controller 'ApplicationController', [
  '$mdSidenav'
  ($mdSidenav) ->
    this.toggleLeftMenu = ->
      $mdSidenav('left').toggle()

    this.menu = [
      { name: 'Films', state: 'films.list' }
      { name: 'Genres', state: 'genres.list' }
      { name: 'Kinds', state: 'kinds.list' }
    ]

    this.isMenuSelected = (item) ->
      true

]
